{% extends "citas/base/base.html" %}

{% block content %}

<style>
      .form-control {
            background-color: rgba(255, 255, 255, 0.5);
            color: white;
            border: 0px solid rgba(95, 95, 95, 0.5);
            border-radius: 1.3rem;
            height: 3.4rem;
            margin-top: 0.8rem;
      }
      #id_description
      {
            height: 10rem;
      }
      .post-form .form-control label
      {
            display: none;
      }
      #id_ingreso, #id_gasto
      {
            display: none;
      }
      .form-check 
      {
            transition: 0.2s !important;
      }
</style>
<section class="vh-100 w-100 bg-black bg-opacity-25">  
      {% include "citas/components/nav.html" %}     
      <div  data-aos="fade-up" class="w-100 d-flex justify-content-center mt-5 pt-5">
            <form action="" method="post" class="post-form  p-3 rounded-5" style="width: 40rem;">
              
                  {% csrf_token %}
                  {{ form.name }}
                  {{ form.description}}
                  <span class="text-white-50 ">
                        Seleciona el tipo a registrar
                  </span> <br>
                  <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="financial_type" id="income" value="income" checked>
                        <label class="form-check-label text-white "  for="income">Ingreso</label>
                  </div>
                  <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="financial_type" id="expense" value="expense">
                        <label class="form-check-label text-white" for="expense">Gasto</label>
                  </div>
                  <div>
                        {{ form.ingreso}}
                        {{ form.gasto}}
                  </div>

                  <div class="w-100 d-flex justify-content-end">
                        <a href="{% url "citas:caja" %}" style="margin-top: 13px;" class=" me-3 text-white-50"> 
                              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-arrow-left-circle-fill mt-1" viewBox="0 0 16 16">
                                    <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"/>
                                  </svg>      
                        </a>
                        <button type="submit" class="btn bg-white bg-opacity-10 text-white mt-2 rounded-5">Guardar</button>
                  </div>
            </form>
      </div>
</section>
<script>
        TextSession('Registrar gasto o ingresos');

      document.addEventListener('DOMContentLoaded', function() {
            const incomeRadio = document.getElementById('income');
            const expenseRadio = document.getElementById('expense');
            const ingresoField = document.getElementById('id_ingreso');
            const gastoField = document.getElementById('id_gasto');

            function toggleFields() {
                  if (incomeRadio.checked) {
                        ingresoField.style.display = 'block';
                        gastoField.style.display = 'none';
                  } else if (expenseRadio.checked) {
                        ingresoField.style.display = 'none';
                        gastoField.style.display = 'block';
                  }
            }

            incomeRadio.addEventListener('change', toggleFields);
            expenseRadio.addEventListener('change', toggleFields);

            // Initialize the fields based on the current selection
            toggleFields();
      });

</script>
{% endblock %}
