{% extends "citas/base/base.html" %}
{% block content %}
<style>
      input {
            border-radius: 1rem !important;
      }
      #base-plans
      {
          display: none !important;
      }
      #divs-btns {
            display: none !important;
        }
      .accordion-item .form-floatin input, #id_service
      {
            width: 100%;
            height: 2.7rem;
            border-radius: 1rem;
            background-color: rgba(0, 0, 0, 0.513);
            color: rgb(255, 255, 255);
            border: none;
      }
      #id_img 
      {
            display: none;
      }
      label
      {
            font-size: 12px;
            color: rgb(227, 227, 227);
      }

</style>
<div class="blur vh-100 bg-black bg-opacity-50 overflow-scroll " >
      {% include "citas/components/nav.html" %}

<section class='w-100  p-2  d-flex flex-wrap  ' >
      <div class="accordion accordion-flush bg-transparent " id="accordionFlushExample" 
            style="z-index: 10;">
            <div class="accordion-item bg-transparent">
              <h2 class="accordion-header  " style="width: 11rem;">
                <button class="accordion-button collapsed bg-transparent text-white" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne" style="font-size: 14px;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-patch-plus me-1" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8 5.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 .5-.5"/>
                        <path d="m10.273 2.513-.921-.944.715-.698.622.637.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636a2.89 2.89 0 0 1 4.134 0l-.715.698a1.89 1.89 0 0 0-2.704 0l-.92.944-1.32-.016a1.89 1.89 0 0 0-1.911 1.912l.016 1.318-.944.921a1.89 1.89 0 0 0 0 2.704l.944.92-.016 1.32a1.89 1.89 0 0 0 1.912 1.911l1.318-.016.921.944a1.89 1.89 0 0 0 2.704 0l.92-.944 1.32.016a1.89 1.89 0 0 0 1.911-1.912l-.016-1.318.944-.921a1.89 1.89 0 0 0 0-2.704l-.944-.92.016-1.32a1.89 1.89 0 0 0-1.912-1.911z"/>
                      </svg>  Agregar plan
                </button>
              </h2>
              <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                   <div class="accordion-body">
                        <span class="">
                               Nuevo plan
                        </span>
                        <form action="" method="post" style='width: 22rem;height: max-content; z-index: 12;border-radius: 1.9rem; ' enctype="multipart/form-data" class="bg-black d- bg-opacity-25  p-2 mt-2" 
                        >
                              {% csrf_token %}
                              <div class="w-100">
                                    <label for="id_img" class="d-flex p-1 pb-2">
                                         
                                         <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-plus-circle mt-1" viewBox="0 0 16 16">
                                               <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                               <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
                                             </svg> <span class="mt-1 ms-1">Agregar Imagen</span>
                                    </label>
                                    <img src="" id="view-imge" class="rounded-4" alt="" 
                                    style="max-height: 200px;">
                              </div>
                             <section class="d-flex ">
                                   <div class='form-floatin mb-1 m-1 w-50'>
                                         <label for="id_name">Nombre del plan</label>
                                         {{form.name}}
                                   </div>
                                   <div class='form-floatin m-1 w-50'>
                                         <label for="id_price">Precio del plan</label>
                                         {{form.price}}
                                   </div>
                             </section>
                             <section class="d-flex " >
                                   <div class='form-floatin  w-100 m-1'>
                                         <label for="id_service">Selecciona un servicio</label>
                                         {{form.service}}
                                   </div>
                                   <div class="d-flex flex-wrap  m-1 mt-3 w-10  align-content-center  justify-content-center">
                                         <button type="submit"  class=' bg-transparent border-0 mt-2  text-white p-1  font-secundary' 
                                         style='width: 2rem; height: 2.4rem; border-radius: 1rem; 
                                               font-size: 14px;
                                               border: 1px white solid;'>
                                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-cloud-check-fill" viewBox="0 0 16 16">
                                                <path d="M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2m2.354 4.854-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708"/>
                                          </svg>
                                          </button>
                                   </div>
                             </section>
                     
                             <div class='form-floating mt-1 '>
                                   {{form.img}}
                             </div>
                       </form>
                    </div>
              </div>
            </div>
      </div>

</section>
<section class="pt-5">
      {% include "citas/plans.html" %}
</section>
</div>
<script>


document.getElementById('id_img').addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const displayImage = document.getElementById('view-imge');
                displayImage.src = e.target.result;
                displayImage.style.display = 'block';
                
                // Retrasar la aparición de la imagen para que se vea la transición
                setTimeout(() => {
                    displayImage.style.opacity = '1';
                }, 50);
            };
            reader.readAsDataURL(file);
        }
    });

           
TextSession('Agregar, Editar y Listado de Planes')



</script>

{% endblock  %}