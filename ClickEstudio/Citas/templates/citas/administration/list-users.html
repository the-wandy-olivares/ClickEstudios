{% extends "citas/base/base.html" %}
{% block content %}
<style>
      .p-mkl
      {
            color: rgba(255, 255, 255, 0.45);
      }
      .title-s
      {
            color: rgba(255, 255, 255, 0.679);
      }
      .mklr 
      {
            color: rgba(255, 255, 255, 0.679);
      }
      table .border-1 
      {
            border-right: 0 !important; 
            border-left: 0 !important; 
            border-bottom: 0 !important;
            border-color: rgba(74, 74, 74, 0.823);
            font-size: 14px;
            transition: 0.4s !important;
            color: rgb(140, 140, 140);
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif !important;
      }
      table .border-1:hover 
      {

            cursor: pointer;
      }
      .role 
      {
            display: flex;
            flex-wrap: wrap;
            min-width: 19rem;
            height: 7rem;
            border-radius:2rem;
            cursor: pointer;
            overflow: hidden;
            transition: 0.4s !important;
      }
      .role p 
      {
            font-size: 12px;

            height: 4rem;
      }
      .content hr 
      {
            width:  9rem;
            
      }
      .heartbeat {
	-webkit-animation: heartbeat 1.5s ease-in-out infinite both;
	        animation: heartbeat 1.5s ease-in-out infinite both;
}
/* ----------------------------------------------
 * Generated by Animista on 2024-6-26 14:51:7
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation heartbeat
 * ----------------------------------------
 */
 @-webkit-keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}
@keyframes heartbeat {
  from {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-transform-origin: center center;
            transform-origin: center center;
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  10% {
    -webkit-transform: scale(0.91);
            transform: scale(0.91);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  17% {
    -webkit-transform: scale(0.98);
            transform: scale(0.98);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  33% {
    -webkit-transform: scale(0.87);
            transform: scale(0.87);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  45% {
    -webkit-transform: scale(1);
            transform: scale(1);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
}

</style>
<div class='bg-content bg-dinamic'>
      <div class='content blur p-1'>
            <div>
                  {% include "citas/components/nav.html" %}
            </div>
            <div class=" w-100 text-start " style="margin-top:6rem;">
                  <h6  class="text-white-50 ms-3 ">
                        Roles disponibles
                  </h6>
                  <hr class="  mt-1 mb-3 ms-3">
            </div>
            <div>
                  <a href="{% url "citas:create-role" %}" class="d-flex d-none">
                        <div class='role  p-1' style='  margin-left: 0.4rem; height: max-content; width: max-content;'>
                        <button class=''>
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-circle-dotted   m-0 p-0" viewBox="0 0 16 16">
                                    <path d="M8 0q-.264 0-.523.017l.064.998a7 7 0 0 1 .918 0l.064-.998A8 8 0 0 0 8 0M6.44.152q-.52.104-1.012.27l.321.948q.43-.147.884-.237L6.44.153zm4.132.271a8 8 0 0 0-1.011-.27l-.194.98q.453.09.884.237zm1.873.925a8 8 0 0 0-.906-.524l-.443.896q.413.205.793.459zM4.46.824q-.471.233-.905.524l.556.83a7 7 0 0 1 .793-.458zM2.725 1.985q-.394.346-.74.74l.752.66q.303-.345.648-.648zm11.29.74a8 8 0 0 0-.74-.74l-.66.752q.346.303.648.648zm1.161 1.735a8 8 0 0 0-.524-.905l-.83.556q.254.38.458.793l.896-.443zM1.348 3.555q-.292.433-.524.906l.896.443q.205-.413.459-.793zM.423 5.428a8 8 0 0 0-.27 1.011l.98.194q.09-.453.237-.884zM15.848 6.44a8 8 0 0 0-.27-1.012l-.948.321q.147.43.237.884zM.017 7.477a8 8 0 0 0 0 1.046l.998-.064a7 7 0 0 1 0-.918zM16 8a8 8 0 0 0-.017-.523l-.998.064a7 7 0 0 1 0 .918l.998.064A8 8 0 0 0 16 8M.152 9.56q.104.52.27 1.012l.948-.321a7 7 0 0 1-.237-.884l-.98.194zm15.425 1.012q.168-.493.27-1.011l-.98-.194q-.09.453-.237.884zM.824 11.54a8 8 0 0 0 .524.905l.83-.556a7 7 0 0 1-.458-.793zm13.828.905q.292-.434.524-.906l-.896-.443q-.205.413-.459.793zm-12.667.83q.346.394.74.74l.66-.752a7 7 0 0 1-.648-.648zm11.29.74q.394-.346.74-.74l-.752-.66q-.302.346-.648.648zm-1.735 1.161q.471-.233.905-.524l-.556-.83a7 7 0 0 1-.793.458zm-7.985-.524q.434.292.906.524l.443-.896a7 7 0 0 1-.793-.459zm1.873.925q.493.168 1.011.27l.194-.98a7 7 0 0 1-.884-.237zm4.132.271a8 8 0 0 0 1.012-.27l-.321-.948a7 7 0 0 1-.884.237l.194.98zm-2.083.135a8 8 0 0 0 1.046 0l-.064-.998a7 7 0 0 1-.918 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3z"/>
                                  </svg>
                        </button>
                  </div>
                  <span class="mt-1 ms-1 font-primary" 
                        style='font-size: 14px;'>             
                             Crear Role
                  </span>
            </a>
            </div>
            <div class="d-flex justify-content-center overflow-scroll" style="min-height: 10rem ;">
                  {% if role %}
                        {% for r in role  %}
                              <div class='role bg-black bg-opacity-50 p-3 m-1 '>
                                    <span class='w-100 font-primary mklr'>
                                          {{ r.name }}
                                    </span>
                                    <p class='p-mkl  bg-transparent'>
                                          {{ r.description }}
                                    </p>
                              </div>
                        {% endfor %}
                  {% endif %}
            </div>
            <div class="mt-1 w-100 text-start ">
                  <h6  class="text-white-50 ms-3 w-100 ">
                        Lista de usuarios 
                  </h6>
                  <hr  class=" mt-1 mb-3 ms-3">
            </div>
            <div class="d-flex m-2">
                  <a href="{% url "citas:create-user" %}" class="d-flex d-none">
                  <button>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-person-add" viewBox="0 0 16 16">
                              <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/>
                              <path d="M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z"/>
                            </svg>
                  </button>
                  <span class="mt-1 ms-1 font-primary" style='font-size: 14px;'>
                        Crear Usuario
                  </span>     
                  </a>
            </div>
            {% if user %}
            
      
            <div class='m-1  ms-2 me-2 p-3 bg-black bg-opacity-50' style='border-radius:1.3rem;'>
                  <table>
                        <thead>
                              <tr >
                                <th class='font-primary font-primary pb-3 pt-1 ' style="width: 2%;" scope="col"> 
                                    #
                               </th>
                                <th class='font-primary title-s pb-3 pt-0'  style="width: 16%;" scope="col"> Nombre y Apellidos </th>
                                <th class='font-primary title-s pb-3 pt-0 ' style="width: 15%;" scope="col"> Correo </th>
                                <th class='font-primary title-s pb-3 pt-0' style="width: 12%;" scope="col"> Numero de telefono </th>
                                <th class='font-primary title-s pb-3 pt-0' style="width: 12%;"scope="col"> Roles </th>
                                <th class='font-primary title-s pb-3 pt-0' style="width: 5%;"scope="col"> Activo </th>
                                <th class='font-primary title-s pb-3 pt-0' style="width: 10%;"scope="col"> Creado </th>
                                <th class='font-primary title-s pb-3 pt-0' style="width: 13%;"scope="col"> Accion </th>
                              </tr>
                            </thead>
                        {% for user in user %}
                        <tr>
                              <td class='border-1 '> ({{forloop.counter}}) </td>
                              <td class='border-1 '>{{ user.name }} {{ user.last_name }} </td>
                              <td class='border-1 '>{{ user.email }}</td>
                              <td class='border-1 '> {% if user.number == None %} --- --- ---- {% else %} {{ user.number }}{% endif %}  </td>
                              <td class='border-1 '> {{user.role}} </td>
                              <td class='border-1 text-white-50 '>
                                    <span class='d-flex align-content-center  flex-wrap'>
                                          {% if user.active == True  %} 
                                          <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="currentColor" class="bi bi-circle-fill mt-2 me-1 " style='color: #adff2f;' viewBox="0 0 16 16">
                                          <circle cx="8" cy="8" r="8"/> </svg>
                                                Ahora
                                           {% else %}
                                          <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="currentColor" class="bi bi-circle-fill mt-2 me-1 ms-2 text-white-50" style='color: ##d3d3d3;' viewBox="0 0 16 16">
                                          <circle cx="8" cy="8" r="8"/> </svg>   
                                          {% endif %}  
                                    </span> 
                              </td>
                              <td class='border-1 '> {{ user.date_created|date:"F/d/Y" }} </td>
                              <td class='border-1 '>
                                    <div class="d-flex">
                                          <a href="{% url "citas:userA-update" user.id %}">
                                                <button class="me-3 d-flex">
                                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-brush-fill mt-1 me-1" viewBox="0 0 16 16">
                                                            <path d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.1 6.1 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.1 8.1 0 0 1-3.078.132 4 4 0 0 1-.562-.135 1.4 1.4 0 0 1-.466-.247.7.7 0 0 1-.204-.288.62.62 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896q.19.012.348.048c.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04"/>
                                                      </svg> Modificar </button>
                                                </a>
                                                <!-- <button class="me-3 d-flex  d-none"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill mt-1 me-1" viewBox="0 0 16 16">
                                                      <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"/>
                                                    </svg> Eliminar </button>  -->
                                    </div>
                              </td>

                        {% endfor %}
                  </table>
            </div>
                  {% else %}
                  <div class='bg-black bg-opacity-50 m-1 p-4 rounded-5 ' 
                        style='width: 19rem;'>
                        <p class='text-white-50' style='font-size: 13px;'>
                              No hay usuarios registrados
                        </p>
                  </div>
            {% endif %}
            <div class="d-flex justify-content-start ms-2 mt-3">
                  <div class="list-btns d-flex">
                        <a href="/admin-click-estudios" class='d-flex'>
                        <button class="rounded-circle bg-black bg-opacity-50  border-0 text-white d-flex justify-content-center align-content-center flex-wrap" style="height: 2rem; width: 2rem;"> 
                              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left p-0 m-0" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"></path>
                              </svg> 
                        </button>
                        <span class='mt-1 ms-1'> Atras</span>
                  </a>
                  </div>
            </div>
      </div>
      
</div>
<script>
      TextSession('Administracion de Usuarios/Roles')
</script>
{% endblock  %}