{% extends "citas/base/base.html" %}
{% block title %}Historial de Ventas{% endblock %}
{% block content %}
{% load humanize %}
<style>
      .background-container {
            position: relative;
            width: 100%;
            height: 70vh; /* Ajusta la altura según sea necesario */
            background-size: cover;
            background-position: center;
            border-radius: 1.5rem;
      }

        .content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.098), rgb(0, 0, 0));
            color: white; /* Cambia el color del texto según sea necesario */
      }     
      #divs-btns {
            display: none !important;
        }
</style>
      <div class='background-container' id='bg-histori'>
            <div class='content blur'>
                  <section class='w-100 d-flex justify-content-center flex-wrap '>
                        {% if c_saled %}
                              <div class='w-100 text-center mb-4'>
                                    <h6 class='font-primary'>
                                          <!-- Listado de  ventas  -->
                                    </h6>
                              </div>
                              <div class='bg-black bg-opacity-50 p-2' style='width: 320px; 
                              max-height: 90vh;  border-radius: 2rem;'  >
                                    {% for c in c_saled %}
                                    <ul class="list-group border-0 mb-3 p-3" style='border-radius: 1rem; '>
                                          <li class="list-group-item m-0 p-0 border-0 bg-transparent " >
                                                <strong class='text-white-50'>Cliente:</strong>
                                                <span class='font-primary'>{{c.name}}</span>
                                          </li>
                                          <li class="list-group-item m-0 p-0 border-0 bg-transparent " >
                                                <strong class='text-white-50'>Plan:</strong>
                                                <span class='font-primary'>{{c.plans.name}}</span>
                                          </li>
                                          <li class="list-group-item m-0 p-0 border-0 bg-transparent " >
                                                <strong class='text-white-50'>Precio:</strong>
                                                <span class='font-primary'> ${{c.plans.price|intcomma}}.00</span>
                                          </li>
                                          <div class='w-100 text-center'>
                                                <hr class='w-50'>
                                          </div>
                                    </ul>  
                                    {% endfor %}
                              </div>
                              <div class='text-center font-primary pt-2 blur bg-transparent  mt-5 w-100'>
                                          Total $:  {{total_saled|intcomma}}
                              </div>
                              <div class='w-100 text-center mb-5 mt-4'>
                                    <a href="{% url "citas:administrations-citas" %}" class="font-primary mt-3">
                                          <button class='bg-transparent  rounded-4 text-white p-1 border-1' style='width: 10rem;'>
                                                Volver Atras
                                          </button>
                                    </a>
                              </div>
                              {% else %}
                                    <div class="alert alert-warning mt-5 text-center" style='width: 320px; border-radius: 2rem;' role="alert">
                                          <strong> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bug-fill" viewBox="0 0 16 16">
                                                <path d="M4.978.855a.5.5 0 1 0-.956.29l.41 1.352A5 5 0 0 0 3 6h10a5 5 0 0 0-1.432-3.503l.41-1.352a.5.5 0 1 0-.956-.29l-.291.956A5 5 0 0 0 8 1a5 5 0 0 0-2.731.811l-.29-.956z"/>
                                                <path d="M13 6v1H8.5v8.975A5 5 0 0 0 13 11h.5a.5.5 0 0 1 .5.5v.5a.5.5 0 1 0 1 0v-.5a1.5 1.5 0 0 0-1.5-1.5H13V9h1.5a.5.5 0 0 0 0-1H13V7h.5A1.5 1.5 0 0 0 15 5.5V5a.5.5 0 0 0-1 0v.5a.5.5 0 0 1-.5.5zm-5.5 9.975V7H3V6h-.5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 0-1 0v.5A1.5 1.5 0 0 0 2.5 7H3v1H1.5a.5.5 0 0 0 0 1H3v1h-.5A1.5 1.5 0 0 0 1 11.5v.5a.5.5 0 1 0 1 0v-.5a.5.5 0 0 1 .5-.5H3a5 5 0 0 0 4.5 4.975"/>
                                              </svg> No hay ventas registradas</strong>
                                    </div>
                                    <div class='w-100 text-center'>
                                          <a href="{% url "citas:administrations-citas" %}" class="font-primary mt-3">Volver Atras</a>
                                    </div>
                        {% endif %}
                  </section>
            
            </div>
      </div>
      <script>
            setInterval(function() {
                  let images = [
                        "https://preview.redd.it/aamna-sharif-v0-5dov0if5cxz91.jpg?width=982&format=pjpg&auto=webp&s=26fc772f9d43b113114a83e262edb478783973a0",
                        "https://th.bing.com/th/id/OIP._MbuZO3qrzu-RpuGY0BFrwHaLG?w=867&h=1300&rs=1&pid=ImgDetMain",
                        "https://cdn.shopify.com/s/files/1/0047/9035/3966/products/ellatop.jpg?v=1615583910",
                        "https://i.pinimg.com/736x/3d/87/ba/3d87bad974bee313d330fb2755708e81.jpg",
                  ];
                  let randomIndex = Math.floor(Math.random() * images.length);
                  let imageUrl = images[randomIndex];
                  document.getElementById("bg-histori").style.backgroundImage = "url(" + imageUrl + ")";
      }, 4000); 
      </script>
{% endblock  %}